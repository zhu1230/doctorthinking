<style type="text/css" media="screen">
	#notice {
		border: solid 1px #99cc99;
		background-color: #e2f9e3;
		color: #006600;
		padding: 5px;
		margin-bottom: 5px;
	}

	  #notice.error {
	  	border-color: #cc0000;
	  	background-color: #eeaaaa;
	  	color: #cc0000;
	  }
  
	.align_right{
	  text-align: right;
	}
	.notify-close{
/*		background-color: #FAD163;*/
background-color:transparent;
border: 1px solid #475F80;
cursor: pointer;
display: block;
float: right;
margin-right: 10px;
margin-top:-2px;
padding-left: 4px;
padding-right: 4px;
text-decoration: none;
	}
</style>
<div style='display:none;'><span id='notify-close' class="notify-close" onclick="$(this).up().fade({duration: 0.2});"><a title="取消消息框">×</a></span></div>
<div id='info' class="infos" style="display:none"></div>
<div id='success' class="success" style="display:none"></div>
<div id='warning' class="warning" style="display:none"></div>
<div id='error' class="error" style="display:none"></div>
<div id='validation' class="validation" style="display:none"></div>
<style type="text/css" media="screen">
	body{
	font-family:Arial, Helvetica, sans-serif; 
	font-size:13px;
	}
	.infos, .success, .warning, .error, .validation {
	border: 1px solid;
	margin: 10px 0px;
	padding:15px 10px 15px 50px;
	background-repeat: no-repeat;
	background-position: 10px center;
  
	}
	.infos {
	color: #00529B;
	background-color: #BDE5F8;
	background-image: url('/images/messages/Info.png');
	}
	.success {
	color: #4F8A10;
	background-color: #DFF2BF;
	background-image:url('/images/messages/success.png');
	}
	.warning {
	color: #9F6000;
	background-color: #FEEFB3;
	background-image: url('/images/messages/warning.png');
	}
	.error {
	color: #D8000C;
	background-color: #FFBABA;
	background-image: url('/images/messages/error.png');
	}
	.validation {
	color: #D63301;
	background-color: #FFCCBA;
	background-image: url('/images/messages/validation.png');
	}
</style>


<script type="text/javascript">
  	function message_bar() {
	<%flash.each{ |key,value|
		if [:notice,:success,:warning,:error,:validation].include? key%>
  		Element.update('<%= key.to_s=="notice" ? "info" : key%>',"<%=value%>"+$('notify-close').outerHTML);
		Effect.Appear('<%= key.to_s=="notice" ? "info" : key%>',{duration:2,queue:{position: 'end', scope:'one'}});
		<%end }%>
  	}
  </script>
    <!-- <%#= content_tag :div, flash[:error] || flash[:notice], :id => 'notice', :class => ('error' if flash[:error]) %>
 <p class='align_right'>
      <%#= link_to_function "X", "this.parentNode.fade({duration: 2});", :title => "close" %>
    </p>
    <script type="text/javascript">
        setTimeout("new Effect.Fade('notice');", 10000)
    </script> -->
